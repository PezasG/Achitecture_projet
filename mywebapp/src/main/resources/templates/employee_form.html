<!DOCTYPE html>
<html lang="fr" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Ajouter / Modifier employé</title>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css">
    <style>.card{border-radius:12px;}</style>
</head>
<body class="bg-light">
<div class="container mt-4">
    <div class="card p-4 col-md-8 mx-auto">
        <h3 th:text="${employee.id} != null ? 'Modifier employé' : 'Ajouter un employé'">Ajouter</h3>

        <!-- Envoi vers /employees (POST pour create), ou /employees/{id} (PUT) selon ton contrôleur -->
        <form th:action="${employee.id} != null ? @{/employees/{id}(id=${employee.id})} : @{/employees}" method="post">
            <!-- si tu veux PUT: <input type="hidden" name="_method" value="put" /> -->
            <div class="form-row">
                <div class="form-group col-md-6">
                    <label>Prénom</label>
                    <input type="text" name="firstName" th:value="${employee.firstName}" class="form-control" required />
                </div>
                <div class="form-group col-md-6">
                    <label>Nom</label>
                    <input type="text" name="lastName" th:value="${employee.lastName}" class="form-control" required />
                </div>
            </div>

            <div class="form-row">
                <div class="form-group col-md-6">
                    <label>Email</label>
                    <input type="email" name="email" th:value="${employee.email}" class="form-control" />
                </div>
                <div class="form-group col-md-6">
                    <label>Poste</label>
                    <input type="text" name="jobTitle" th:value="${employee.jobTitle}" class="form-control" />
                </div>
            </div>

            <div class="form-row">
                <div class="form-group col-md-4">
                    <label>Salaire horaire</label>
                    <input type="number" step="0.01" name="hourlyRate" th:value="${employee.hourlyRate}" class="form-control" />
                </div>
                <div class="form-group col-md-4">
                    <label>Matricule</label>
                    <input type="text" name="employeeNumber" th:value="${employee.employeeNumber}" class="form-control" />
                </div>
                <div class="form-group col-md-4">
                    <label>Rôle</label>
                    <select name="role" class="form-control">
                        <option th:selected="${employee.role == 'ROLE_EMPLOYEE'}" value="ROLE_EMPLOYEE">Employé</option>
                        <option th:selected="${employee.role == 'ROLE_RH'}" value="ROLE_RH">RH</option>
                    </select>
                </div>
            </div>

            <div class="d-flex justify-content-between">
                <a href="/employees" class="btn btn-outline-secondary">Annuler</a>
                <button type="submit" class="btn btn-primary">Enregistrer</button>
            </div>
        </form>
    </div>
</div>
</body>
</html>
